<table class="report-table">
  <thead>
    <tr>
      <th>{{ dim_label }}</th>
      <th class="num">Units</th>
      <th class="num">Orders</th>
      <th class="num">Avg Unit Price</th>
      <th class="num">Revenue</th>
    </tr>
  </thead>
  <tbody>
    {% if rows and rows|length %}
      {% for r in rows %}
      <tr>
        <td>{{ r.DimName }}</td>
        <td class="num">{{ r.UnitsSold or 0 }}</td>
        <td class="num">{{ r.NumOrders or 0 }}</td>
        <td class="num">${{ "%.2f"|format((r.AvgUnitPrice or 0)) }}</td>
        <td class="num">${{ "%.2f"|format((r.GrossRevenue or 0)) }}</td>
      </tr>
      {% endfor %}
    {% else %}
      <tr><td colspan="5" class="empty">No data for these filters.</td></tr>
    {% endif %}
  </tbody>
  {% if rows and rows|length %}
  <tfoot>
    <tr>
      <th>Total</th>
      <th class="num">{{ totals.UnitsSold }}</th>
      <th class="num">{{ totals.NumOrders }}</th>
      <th></th>
      <th class="num">${{ "%.2f"|format(totals.GrossRevenue) }}</th>
    </tr>
  </tfoot>
  {% endif %}
</table>
